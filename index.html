<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="High-performing functions operating on rows and columns of matrices, e.g. col / rowMedians(), col / rowRanks(), and col / rowSds().  Functions optimized per data type and for subsetted calculations such that both memory usage and processing time is minimized.  There are also optimized vector-based methods, e.g. binMeans(), madDiff() and weightedMedian().">
<title>Functions that Apply to Rows and Columns of Matrices (and to Vectors) • matrixStats</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Kanit-0.4.8/font.css" rel="stylesheet">
<link href="deps/Ubuntu-0.4.8/font.css" rel="stylesheet">
<link href="deps/Dhurjati-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Functions that Apply to Rows and Columns of Matrices (and to Vectors)">
<meta property="og:description" content="High-performing functions operating on rows and columns of matrices, e.g. col / rowMedians(), col / rowRanks(), and col / rowSds().  Functions optimized per data type and for subsetted calculations such that both memory usage and processing time is minimized.  There are also optimized vector-based methods, e.g. binMeans(), madDiff() and weightedMedian().">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">matrixStats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0-9004</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Example_analysis.html">Example analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/HenrikBengtsson/matrixStats/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="matrixstats-functions-that-apply-to-rows-and-columns-of-matrices-and-to-vectors">matrixStats: Functions that Apply to Rows and Columns of Matrices (and to Vectors)<a class="anchor" aria-label="anchor" href="#matrixstats-functions-that-apply-to-rows-and-columns-of-matrices-and-to-vectors"></a>
</h1></div>
<p>I used matrixStats package from this GitHub <a href="https://github.com/HenrikBengtsson/matrixStats" class="external-link uri">https://github.com/HenrikBengtsson/matrixStats</a> The website I created for this package can be found here <a href="https://jhu-statprogramming-fall-2023.github.io/biostat777-project3-part1-raziafrooz/" class="external-link uri">https://jhu-statprogramming-fall-2023.github.io/biostat777-project3-part1-raziafrooz/</a></p>
<p>Include a description of the 5 things you customized in your pkgdown website (excluding adding the example data analysis from Part 1C).</p>
<ol style="list-style-type: decimal">
<li><p>Changed page color and them to minty (bootswatch: minty)</p></li>
<li><p>Changed the code theme to solarized-light (theme: solarized-light)</p></li>
<li><p>Changed nav hight to 100</p></li>
<li><p>Changed base_font: {google: “Roboto”}</p></li>
<li><p>heading_font: {google: “Roboto Slab”}</p></li>
<li><p>code_font: {google: “JetBrains Mono”}</p></li>
</ol>
</div>
<div class="section level1">
<h1 id="authors-of-the-main-package">Authors of the main package:<a class="anchor" aria-label="anchor" href="#authors-of-the-main-package"></a>
</h1>
<p>Afrooz Razi (made website and example analysis)</p>
<p>Henrik Bengtsson (aut”, “cre”, “cph”), Constantin Ahlmann-Eltze (“ctb”), Hector Corrada Bravo (“ctb”), Robert Gentleman (“ctb”), Jan Gleixner (“ctb”), Peter Hickey (“ctb”), Ola Hossjer (“ctb”), Harris Jaffee (“ctb”), Dongcan Jiang (“ctb”), Peter Langfelder (“ctb”), Brian Montgomery (“ctb”), Angelina Panagopoulou (“ctb”), Hugh Parsonage (“ctb”), Jakob Peder Pettersen (ctb”)</p>
<div class="section level2">
<h2 id="exported-dunctions">exported dunctions:<a class="anchor" aria-label="anchor" href="#exported-dunctions"></a>
</h2>
<div class="section level3">
<h3 id="location-and-scale-estimators">Location and scale estimators<a class="anchor" aria-label="anchor" href="#location-and-scale-estimators"></a>
</h3>
<p>Weighted sample mean: weightedMean(), colWeightedMeans(), rowWeightedMeans() weightedMean(x, w) Mean mean2(), colMeans2(), rowMeans2() mean2(x) Median median(), colMedians(), rowMedians() median(x) Weighted median weightedMedian(), colWeightedMedians(), rowWeightedMedians() weightedMedian(x, w) Sample variance var(), colVars(), rowVars() var(x) Weighted sample variance weightedVar(), colWeightedVars(), rowWeightedVars() weightedVar(x, w), rowWeightedVars(x, w) Sample variance by n-order differences varDiff(), colVarDiffs(), rowVarDiffs() varDiff(x) Sample standard deviation sd(), colSds(), rowSds() sd(x) Weighted sample deviation weightedSd(), colWeightedSds(), rowWeightedSds() weightedSd(x, w), rowWeightedSds(x, w) Sample standard deviation by n-order differences sdDiff(), colSdDiffs(), rowSdDiffs() sdDiff(x) Median absolute deviation (MAD) mad(), colMads(), rowMads() mad(x) Weighted median absolute deviation (MAD) weightedMad(), colWeightedMads(), rowWeightedMads() weightedMad(x, w), rowWeightedMads(x, w) Median absolute deviation (MAD) by n-order differences madDiff(), colMadDiffs(), rowMadDiffs() madDiff(x) Quantile quantile(), colQuantiles(), rowQuantiles() quantile(x, probs) Interquartile range (IQR) iqr(), colIQRs(), rowIQRs() iqr(x) Interquartile range (IQR) by n-order differences iqrDiff(), colIQRDiffs(), rowIQRDiffs() iqrDiff(x) Range range(), colRanges(), rowRanges() range(x) Minimum min(), colMins(), rowMins() min(x) Maximum max(), colMaxs(), rowMaxs() max(x)</p>
</div>
<div class="section level3">
<h3 id="testing-for-and-counting-values">Testing for and counting values<a class="anchor" aria-label="anchor" href="#testing-for-and-counting-values"></a>
</h3>
<p>Are there any missing values? anyMissing(), colAnyMissings(), rowAnyMissings() anyMissing(x) Does TRUE exists? any(), colAnys(), rowAnys() any(x) Are all values TRUE? all(), colAlls(), rowAlls() all(x) Does value exists? anyValue(), colAnys(), rowAnys() anyValue(x, value) Do all elements have a given value? allValue(), colAlls(), rowAlls() allValue(x, value) Number of occurrences of a value? count(), colCounts(), rowCounts() count(x, value)</p>
</div>
<div class="section level3">
<h3 id="cumulative-functions">Cumulative functions<a class="anchor" aria-label="anchor" href="#cumulative-functions"></a>
</h3>
<p>Cumulative sum cumsum(), colCumsums(), rowCumsums() cumsum(x) Cumulative product cumprod(), colCumprods(), rowCumprods() cumprod(x) Cumulative minimum cummin(), colCummins(), rowCummins() cummin(x) Cumulative maximum cummax(), colCummaxs(), rowCummaxs() cummax(x)</p>
</div>
<div class="section level3">
<h3 id="binning">Binning<a class="anchor" aria-label="anchor" href="#binning"></a>
</h3>
<p>Counts in disjoint bins binCounts() Sample means (and counts) in disjoint bins binMeans()</p>
</div>
<div class="section level3">
<h3 id="miscellaneous">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous"></a>
</h3>
<p>Sum sum2(), colSums2(), rowSums2() sum2(x) Lagged differences diff2(), colDiffs(), rowDiffs()</p>
</div>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The matrixStats package provides highly optimized functions for computing common summaries over rows and columns of matrices, e.g. <code><a href="reference/rowQuantiles.html">rowQuantiles()</a></code>. There are also functions that operate on vectors, e.g. <code><a href="reference/logSumExp.html">logSumExp()</a></code>. Their implementations strive to minimize both memory usage and processing time. They are often remarkably faster compared to good old <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> solutions. The calculations are mostly implemented in C, which allow us to optimize beyond what is possible to do in plain R. The package installs out-of-the-box on all common operating systems, including Linux, macOS and Windows.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>With a matrix</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">20</span> <span class="sc">*</span> <span class="dv">500</span>), <span class="at">nrow =</span> <span class="dv">20</span>, <span class="at">ncol =</span> <span class="dv">500</span>)</span></code></pre></div>
<p>it is <a href="https://www.jottr.org/2015/01/matrixStats-0.13.1.html" class="external-link">many times faster</a> to calculate medians column by column using</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mu <span class="ot">&lt;-</span> matrixStats<span class="sc">::</span><span class="fu">colMedians</span>(x)</span></code></pre></div>
<p>than using</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mu <span class="ot">&lt;-</span> <span class="fu">apply</span>(x, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> median)</span></code></pre></div>
<p>Moreover, if performing calculations on a subset of rows and/or columns, using</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mu <span class="ot">&lt;-</span> <span class="fu">colMedians</span>(x, <span class="at">rows =</span> <span class="dv">33</span><span class="sc">:</span><span class="dv">158</span>, <span class="at">cols =</span> <span class="dv">1001</span><span class="sc">:</span><span class="dv">3000</span>)</span></code></pre></div>
<p>is much faster and more memory efficient than</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mu <span class="ot">&lt;-</span> <span class="fu">apply</span>(x[<span class="dv">33</span><span class="sc">:</span><span class="dv">158</span>, <span class="dv">1001</span><span class="sc">:</span><span class="dv">3000</span>], <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> median)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="benchmarks">Benchmarks<a class="anchor" aria-label="anchor" href="#benchmarks"></a>
</h2>
<p>For formal benchmarking of matrixStats functions relative to alternatives, see the <a href="https://github.com/HenrikBengtsson/matrixStats/wiki/Benchmark-reports" class="external-link">Benchmark reports</a>.</p>
</div>
<div class="section level2">
<h2 id="design-goals">Design goals<a class="anchor" aria-label="anchor" href="#design-goals"></a>
</h2>
<p>The objectives of the <strong>matrixStats</strong> package is to perform operations on matrices (i) as faster as possible, while (ii) not using unnecessary amounts of memory. These objectives drive the design, including the choice of the different defaults.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>R package matrixStats is available on <a href="https://cran.r-project.org/package=matrixStats" class="external-link">CRAN</a> and can be installed in R as:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"matrixStats"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="pre-release-version">Pre-release version<a class="anchor" aria-label="anchor" href="#pre-release-version"></a>
</h3>
<p>To install the pre-release version that is available in Git branch <code>develop</code> on GitHub, use:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"HenrikBengtsson/matrixStats"</span>, ref<span class="op">=</span><span class="st">"develop"</span><span class="op">)</span></span></code></pre></div>
<p>This will install the package from source. Because of this and because this package also compiles native code, Windows users need to have <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a> installed and macOS users need to have <a href="https://developer.apple.com/xcode/" class="external-link">Xcode</a> installed.</p>
<!-- pkgdown-drop-below -->
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>To contribute to this package, please see <a href="CONTRIBUTING.html">CONTRIBUTING.md</a>.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=matrixStats" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/HenrikBengtsson/matrixStats/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/HenrikBengtsson/matrixStats/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/Artistic-2.0" class="external-link">Artistic-2.0</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing matrixStats</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Henrik Bengtsson <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/web/checks/check_results_matrixStats.html" class="external-link"><img src="https://www.r-pkg.org/badges/version/matrixStats" alt="CRAN check status" border="0"></a></li>
<li><a href="https://github.com/HenrikBengtsson/matrixStats/actions?query=workflow%3AR-CMD-check" class="external-link"><img src="https://github.com/HenrikBengtsson/matrixStats/actions/workflows/R-CMD-check.yaml/badge.svg?branch=develop" alt="R CMD check status" border="0"></a></li>
<li><a href="https://ci.appveyor.com/project/HenrikBengtsson/matrixstats" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/github/HenrikBengtsson/matrixStats?svg=true" alt="Build status" border="0"></a></li>
<li><a href="https://app.codecov.io/gh/HenrikBengtsson/matrixStats" class="external-link"><img src="https://codecov.io/gh/HenrikBengtsson/matrixStats/branch/develop/graph/badge.svg" alt="Coverage Status" border="0"></a></li>
<li><a href="https://github.com/rstats-gsoc/gsoc2015/wiki/table-of-proposed-coding-projects" class="external-link"><img src="https://img.shields.io/badge/GSoC-2015-blue" alt="A Google Summer of Code 2015 project" border="0"></a></li>
<li><a href="https://github.com/rstats-gsoc/gsoc2021/wiki/table-of-proposed-coding-projects" class="external-link"><img src="https://img.shields.io/badge/GSoC-2021-blue" alt="A Google Summer of Code 2021 project" border="0"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
